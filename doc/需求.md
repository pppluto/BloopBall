### 地图关卡

- 关卡路段编辑
- 障碍物生成
- 道具，金币生成
- 地图特定参数

#### 地图编辑

- 路段群组配置
- 高台规则
- 路段难度配置
- 金币规则
  
#### 障碍
- [x] 金币，菠菜罐头，石柱，食人花，蘑菇
- [ ] 转动障碍，(十字，一字)
- 加速减速功能
- 龙卷风效果
- 弹性障碍表现(蘑菇)

### 角色表现

- 角色信息表现(头顶箭头，名称等)
- 跳跃，碰撞弹性表现
- 不同碰撞间表情变化，效果
- 死亡 原版
- 重生 原版

- 其它人物技能 4 
  
### 参数调试工具

- 角色物理行为参数 (转速，跳跃，摩擦力，最高最低限制)
- ai参数

### AI

- 行为树 (新增规则: 主动金币获取，ai与ai，ai与玩家间的技能策略，空中平台规则，)

### 主流程场景功能

- 选择关卡界面
  - 列表(已完成)
  - 关卡状态效果
  - 关卡进度
  - 关卡解锁需求
  - 解锁后效果展示
  - 动画效果(金币消失，开锁)

- 选择角色界面
  - 角色状态效果

- 结算界面
  - UI结构(排名，金币，)
  - 金币统计
  - 动效(金币四散飞入)
  - 广告逻辑

- 结算2
  - UI
  - 解锁进度逻辑
  - 解锁配置 (需要服务端支持)
  - 广告逻辑(无广告时逻辑)
  - 解锁后展示效果

## 主要功能点
### 主体流程

- [] 开始选择列表，解锁关卡，签到逻辑
- [] 结算排名ui，解锁人物、技能 (服务端可配置)
- [] 皮肤试用功能
- [] 角色购买
- [] 动效(mask，开锁，金币减少，金币飞入，角色待机,结算角色各排名效果等等)

### 游戏场景
#### UI场景

- [] 中后景UI (根据关卡主题来)
- [] 动效，氛围
- [] 顶层controller管理
  - 顶部玩家进度
  - 技能面板
  - 用户输入行为(受技能障碍限制)

#### 角色
- [] 初始化角色分配
- [] 角色UI,皮肤，表情资源
- [] 角色各状态表现 (动效)
  - [] 死亡
  - [] 重生
  - [] 跳跃/碰撞
  - [] 道具获取
- [] 角色技能实现 (动效)
- [] 技能间关系，优先级
- [] 角色参数修改调试工具 (滚动速度，弹跳力，弹性表现，边界值，阻力，衰减)
- [] ai行为实现 (各障碍，道具，高台，金币策略)
- [] ai参数修改调试工具
- [] 调优
 #### 地形  (可配置)

- [] 各关卡特殊物理行为效果(扩展)
- [] 地形组合编辑(UI出最小模块，策划组合，程序预制)
- [] 地形组管理
- [] 根据当前难度配置地形组，生成地形
- [] 高台地形生成
- [] 配置各个障碍物 (关卡相关)
  - [] 特殊障碍表现(食人花，弹球，龙卷风，加减速，刺猬) 动效
- [] 配置金币
- [] 地形组定制障碍金币高台
- [] 调优

##### 地形组

- [] 最小地形元素， 三个坡，三个坑，
- [] 提供最小元素
- [] 定制地形

地形层级
- 父级容器节点
  - 障碍容器节点
  - 地形节点

### 其它模块

- [] 录屏、分享
- [] 数据统计、openid绑定
- [] 存储
- [] 广告

#### 难点

- 地形模型的精细程度。bezier描边可以掩盖掉部分连接点尖锐(模型不能太粗糙)
  - Catmull-Rom https://www.cnblogs.com/WhyEngine/p/4020390.html
  - bezier不过顶点，搞出来很奇怪
- 贴图同样使用mesh
- 碰撞范围保持和组尺寸相同，方便计算坐标和uv
- 组内的道具位置配置化，可以有多套组合


地形编辑问题
1. cocos 拖点 /耗时间 -- 但是准确，碰撞体少，cpu计算量少
2. 通过几个控制点来生成 /时间相对快 -- 程序控制,没法完美呈现效果(大差不差)
3. 如果完全按ui图来做地形，那么部分地形可以通过 circle 来代替，手动编辑时间少，如果调整需要ui重新贴图)