- []


### 游戏场景逻辑

#### 开始场景

- [x]开始场景各入口跳转
- []常驻节点设计
- [x]基本场景 开始结束

#### 游戏场景

- [x]各个球的进度
- [x] 地面高度测试检查
- [] 各障碍
- [] 地面障碍的角度
- [] 各障碍放置规则 (特殊障碍: 龙卷风)
- [] 障碍、技能优先级
- [x] 各个碰撞组管理，由于弹性球中有多个小球，碰撞监听脚本分散，需要好好管理这些碰撞(统一在ballControl中处理，监听脚本只做分发)

##### 参数调节
- []最小速度的调整，保证能上坡，同时速度变化不那么失真
- []旋转速度跟前进速度的协调
- []地图调整
  
  > 软体球用 shader 来模拟，(shader <-> collider) 碰撞时将碰撞点和力？传给 shader 来做顶点变化，考虑旋转,手动管理物理形变速度之类的东西(手动计算运动坐标，抛弃物理引擎)

### AI

- [x] 决策方式(定时器每间隔决策，不做实时)
- [] 行为树

### 积分排位

- [] 管理方式确定 (本地/服务器)
- [x] 段位积分配置

### 人物角色管理

- [x] 人物解锁相关
- [x] 技能配置
- [x] 每一个技能的碰撞都要编辑定义,json 数据点?
- [x] 人物特征的位置如何管理


### 其它

- []游戏各模块通信整合

#### 碰撞/技能/障碍相关

- [x] 尝试用sensor球来模拟球碰撞，略微的形变应该不影响整体的效果，逻辑更清晰简单
- [ ] 怎么管理技能碰撞和障碍碰撞的效果
- 碰撞怎么管理(根据tag做mapping，还是tag分类，在host里去数据)
- 技能 model 设计(冷却，spine 动态加载，效果)
  > 技能效果，加减速，平移，跳跃力，可视范围限制，行动限制

### 签到

- []沿用围住渣男逻辑

### 联机

- [](https://forum.cocos.org/t/topic/99992)

### 优化

#### 必须

- [x]根据游戏第一名进度动态增加地形，复用最后一名之前的地形片段(障碍同理)
- 取顶点数据时，以驻点来切分出每一部分，比通过小矩形的方式要少 50%的顶点数据，要根据斜率判断从哪边开始切(怎么组织数据)
- []碰撞状态判定不准确(多个碰撞体，开始和结束事件不是按顺序进行)

#### 可选 

- [] 根据玩家的进度，如果离用户太远，将地图某部分用一个矩形 collider 代替，复用其它的 collider，保证最后一名能滚动，又不影响用户成(optional)
- [] 对象池(障碍，道具)，技能复用(每次游戏应该只需要少量spine技能节点)

### 手动计算 (物理引擎在 ios 上太卡)

- 如何模拟弹性
- 坡度，摩擦，速度，旋转，碰撞，弹性，x.y 计算。。。球与球之间各角度挤压碰撞。。。
- 力合成来计算

4 * 11 rigid * 10 distance joint * 10 motor joint

- [box2d lite](https://github.com/SlowHadoken/Box2D-LiteJS/blob/master/src/World.js)
